import { render, screen } from "@testing-library/react";
import { describe, expect, test } from "vitest";
import ViewMoreButton from "../../../src/components/buttons/ViewMoreButton/ViewMoreButton";
import { BrowserRouter } from "react-router-dom";
import { QueryClient, QueryClientProvider } from "@tanstack/react-query";

const queryClient = new QueryClient();
describe("Testing view more button", () => {
  test("renders properly", () => {
    render(
      <QueryClientProvider client={queryClient}>
        <BrowserRouter>
          <ViewMoreButton
            url={`/category-data?category=icon&searchTerm=`}
            assets={assets}
          />
        </BrowserRouter>
      </QueryClientProvider>
    );

    const viewMore = screen.getByText("View More");
    expect(viewMore).toBeInTheDocument();
  });
});

const assets = {
  result: [
    {
      tags: {
        tag1: "aaaaaaaa",
      },
      _id: "66517bdbeb088589891feb96",
      title: "sssssss",
      url: "https://pub-65fd81d892af4d97b1326cee8d9e870a.r2.dev/design-templates/1716616153401_Smart Design.zip",
      type: "psd",
      previewUrl:
        "https://pub-65fd81d892af4d97b1326cee8d9e870a.r2.dev/design-templates/1716616154743_1716365879792_Alfa Bank.png",
      previewKey: "1716616154743_1716365879792_Alfa Bank.png",
      click: 8,
      download: 2,
      finalDownload: 2,
      alternativeText: "aaaaaa",
      description: "aaaaaaaaaaaaaa",
      metaTitle: "ssssss",
      metaDescription: "aaaaaaaaa",
      uploadedUserEmail: "mamun@octopusx.io",
      category: "design-template",
      subCategory: "template",
      key: "1716616153401_Smart Design.zip",
      createdAt: "2024-05-25T05:49:15.684Z",
      updatedAt: "2024-05-25T06:30:24.531Z",
      __v: 0,
      id: "66517bdbeb088589891feb96",
    },
    {
      tags: {
        tag1: "test design one",
      },
      _id: "665179b68c3e079faa38cfc6",
      title: "test design one",
      url: "https://pub-65fd81d892af4d97b1326cee8d9e870a.r2.dev/design-templates/1716615603990_check validation (3).zip",
      type: "psd",
      previewUrl:
        "https://pub-65fd81d892af4d97b1326cee8d9e870a.r2.dev/design-templates/1716615605186_download stock photos (3).png",
      previewKey: "1716615605186_download stock photos (3).png",
      click: 5,
      download: 2,
      finalDownload: 2,
      alternativeText: "test design one",
      description: "test design one test design one",
      metaTitle: "test design one :::",
      metaDescription: " test design one test design one",
      uploadedUserEmail: "shariar@octopusx.io",
      category: "design-template",
      subCategory: "psd",
      key: "1716615603990_check validation (3).zip",
      createdAt: "2024-05-25T05:40:06.006Z",
      updatedAt: "2024-05-25T06:31:53.074Z",
      __v: 0,
      id: "665179b68c3e079faa38cfc6",
    },
    {
      tags: {
        tag1: "Smart Design",
      },
      _id: "6651713c242089e4b9e21f76",
      title: "Smart Design",
      url: "https://pub-65fd81d892af4d97b1326cee8d9e870a.r2.dev/design-templates/1716613434756_test design (2).zip",
      type: "psd",
      previewUrl:
        "https://pub-65fd81d892af4d97b1326cee8d9e870a.r2.dev/design-templates/1716613435911_googless (1).jpeg",
      previewKey: "1716613435911_googless (1).jpeg",
      click: 24,
      download: 10,
      finalDownload: 10,
      alternativeText: "Smart Design",
      description: "Smart Design",
      metaTitle: "Smart Design",
      metaDescription: "Smart Design",
      uploadedUserEmail: "mamun@octopusx.io",
      category: "design-template",
      subCategory: "template",
      key: "1716613434756_test design (2).zip",
      createdAt: "2024-05-25T05:03:56.772Z",
      updatedAt: "2024-05-25T05:38:11.099Z",
      __v: 0,
      id: "6651713c242089e4b9e21f76",
    },
    {
      tags: {
        tag1: "deisgn  something",
      },
      _id: "664f08bb718cb9298caeb7e4",
      title: "deisgn something",
      url: "https://pub-555f8342aab14a45b760d81e9beb507b.r2.dev/1716455607819_dfsgfdghfdg.zip",
      type: "psd",
      previewUrl:
        "https://pub-555f8342aab14a45b760d81e9beb507b.r2.dev/1716455610468_image less.png",
      previewKey: "1716455610468_image less.png",
      click: 28,
      download: 13,
      finalDownload: 13,
      alternativeText: "deisgn something",
      description: "deisgn something",
      metaTitle: "deisgn something",
      metaDescription: "deisgn something",
      uploadedUserEmail: "saiful4b3@gmail.com",
      category: "design-template",
      subCategory: "template",
      key: "1716455607819_dfsgfdghfdg.zip",
      createdAt: "2024-05-23T09:13:31.900Z",
      updatedAt: "2024-05-25T06:32:05.469Z",
      __v: 0,
      id: "664f08bb718cb9298caeb7e4",
    },
    {
      tags: {
        tag1: "vbn",
      },
      _id: "664f07c2392a527c2b8981b9",
      title: "vgbnvb",
      url: "https://pub-343a57e418b344ff97eeb4945a3f3a39.r2.dev/stock-photos/1716455361340_Career-Objective (1).docx",
      type: "png",
      click: 3,
      download: 1,
      finalDownload: 1,
      alternativeText: "nvbnv",
      description: "vbnvb",
      metaTitle: "vbnv",
      metaDescription: "vhjh",
      uploadedUserEmail: "imran@octopusx.io",
      category: "stock-photos",
      subCategory: "food",
      key: "1716455361340_Career-Objective (1).docx",
      createdAt: "2024-05-23T09:09:22.342Z",
      updatedAt: "2024-05-25T06:42:24.359Z",
      __v: 0,
      id: "664f07c2392a527c2b8981b9",
    },
    {
      tags: {
        tag1: "vbn",
      },
      _id: "664f06c6392a527c2b8981a3",
      title: "vgbnvb",
      url: "https://pub-343a57e418b344ff97eeb4945a3f3a39.r2.dev/stock-photos/1716455108272_1688146396949.jpg.bmp",
      type: "bmp",
      click: 6,
      download: 7,
      finalDownload: 7,
      alternativeText: "nvbnv",
      description: "vbnvb",
      metaTitle: "vbnv",
      metaDescription: "vhjh",
      uploadedUserEmail: "imran@octopusx.io",
      category: "stock-photos",
      subCategory: "food",
      key: "1716455108272_1688146396949.jpg.bmp",
      createdAt: "2024-05-23T09:05:10.101Z",
      updatedAt: "2024-05-25T06:42:30.576Z",
      __v: 0,
      id: "664f06c6392a527c2b8981a3",
    },
    {
      tags: {
        tag1: "check validation",
      },
      _id: "664ed785f4246952db17b4f8",
      title: "check validation",
      url: "https://pub-65fd81d892af4d97b1326cee8d9e870a.r2.dev/design-templates/1716443008380_test design (1).zip",
      type: "psd",
      previewUrl:
        "https://pub-65fd81d892af4d97b1326cee8d9e870a.r2.dev/design-templates/1716443010933_1716270340646_new upload.png",
      previewKey: "1716443010933_1716270340646_new upload.png",
      click: 8,
      download: 6,
      finalDownload: 6,
      alternativeText: "check validation",
      description: "check validation",
      metaTitle: "check validation",
      metaDescription: "check validation",
      uploadedUserEmail: "mamun@octopusx.io",
      category: "design-template",
      subCategory: "template",
      key: "1716443008380_test design (1).zip",
      createdAt: "2024-05-23T05:43:33.587Z",
      updatedAt: "2024-05-25T05:38:25.685Z",
      __v: 0,
      id: "664ed785f4246952db17b4f8",
    },
    {
      tags: {
        tag1: "check validation",
      },
      _id: "664ed59b2b24ef2915385c3f",
      title: "check validation",
      url: "https://pub-65fd81d892af4d97b1326cee8d9e870a.r2.dev/design-templates/1716442514308_google.zip",
      type: "psd",
      previewUrl:
        "https://pub-65fd81d892af4d97b1326cee8d9e870a.r2.dev/design-templates/1716442521284_Two e.png",
      previewKey: "1716442521284_Two e.png",
      click: 34,
      download: 8,
      finalDownload: 4,
      alternativeText: "check validation",
      description: "check validation",
      metaTitle: "check validation",
      metaDescription: "check validation",
      uploadedUserEmail: "mamun@octopusx.io",
      category: "design-template",
      subCategory: "template",
      key: "1716442514308_google.zip",
      createdAt: "2024-05-23T05:35:23.549Z",
      updatedAt: "2024-05-25T06:25:49.892Z",
      __v: 0,
      id: "664ed59b2b24ef2915385c3f",
    },
    {
      tags: {
        tag1: "jj",
      },
      _id: "664ed2e707eed1db46a39c34",
      title: "---------",
      url: "https://pub-555f8342aab14a45b760d81e9beb507b.r2.dev/1716441829420_agmshcfv.zip",
      type: "psd",
      previewUrl:
        "https://pub-555f8342aab14a45b760d81e9beb507b.r2.dev/1716441830449_image less.png",
      previewKey: "1716441830449_image less.png",
      click: 4,
      download: 1,
      finalDownload: 1,
      alternativeText: "asset testing",
      description: "---",
      metaTitle: "asset testing",
      metaDescription: "----",
      uploadedUserEmail: "saiful4b3@gmail.com",
      category: "design-template",
      subCategory: "psd",
      key: "1716441829420_agmshcfv.zip",
      createdAt: "2024-05-23T05:23:51.800Z",
      updatedAt: "2024-05-25T05:24:37.514Z",
      __v: 0,
      id: "664ed2e707eed1db46a39c34",
    },
    {
      tags: {
        tag1: "asset testing",
      },
      _id: "664ed27907eed1db46a39c26",
      title: "asset testing",
      url: "https://pub-555f8342aab14a45b760d81e9beb507b.r2.dev/1716441717559_final preview check.zip",
      type: "psd",
      previewUrl:
        "https://pub-555f8342aab14a45b760d81e9beb507b.r2.dev/1716441719830_fas e e f g h i j k.png",
      previewKey: "1716441719830_fas e e f g h i j k.png",
      click: 25,
      download: 5,
      finalDownload: 5,
      alternativeText: "asset testing",
      description: "asset testing",
      metaTitle: "asset testing",
      metaDescription: "asset testing",
      uploadedUserEmail: "saiful4b3@gmail.com",
      category: "design-template",
      subCategory: "template",
      key: "1716441717559_final preview check.zip",
      createdAt: "2024-05-23T05:22:01.590Z",
      updatedAt: "2024-05-25T06:21:17.387Z",
      __v: 0,
      id: "664ed27907eed1db46a39c26",
    },
    {
      tags: {
        tag1: "fhgf",
      },
      _id: "664ed117392a527c2b8980c7",
      title: "------",
      url: "https://pub-343a57e418b344ff97eeb4945a3f3a39.r2.dev/stock-photos/1716441359970_1683020410017.png",
      type: "png",
      click: 22,
      download: 6,
      finalDownload: 6,
      alternativeText: "---------",
      description: " ghfh",
      metaTitle: "-----------",
      metaDescription: " dfgfdg",
      uploadedUserEmail: "imran@octopusx.io",
      category: "stock-photos",
      subCategory: "ai-generated",
      key: "1716441359970_1683020410017.png",
      createdAt: "2024-05-23T05:16:07.809Z",
      updatedAt: "2024-05-23T10:11:42.059Z",
      __v: 0,
      id: "664ed117392a527c2b8980c7",
    },
    {
      tags: {
        tag1: "ff",
      },
      _id: "664ecfa0c2c532d5954b4af4",
      title: "dfdfd",
      url: "https://pub-65fd81d892af4d97b1326cee8d9e870a.r2.dev/design-templates/1716440981169_1520080351085.jpg.bmp",
      type: "psd",
      previewUrl:
        "https://pub-65fd81d892af4d97b1326cee8d9e870a.r2.dev/design-templates/1716440990396_1683020410017.png",
      previewKey: "1716440990396_1683020410017.png",
      click: 2,
      download: 1,
      finalDownload: 1,
      alternativeText: "f",
      description: "ff",
      metaTitle: "dfdsf",
      metaDescription: "fff",
      uploadedUserEmail: "imran@octopusx.io",
      category: "design-template",
      subCategory: "template",
      key: "1716440981169_1520080351085.jpg.bmp",
      createdAt: "2024-05-23T05:09:52.852Z",
      updatedAt: "2024-05-23T09:36:08.821Z",
      __v: 0,
      id: "664ecfa0c2c532d5954b4af4",
    },
    {
      tags: {
        tag1: "test b",
      },
      _id: "664ec59db57d7c6ea1bfb4e1",
      title: "test b",
      url: "https://pub-343a57e418b344ff97eeb4945a3f3a39.r2.dev/stock-photos/1716438426411_1716365879792_Alfa Bank (1).png",
      type: "png",
      click: 34,
      download: 15,
      finalDownload: 14,
      alternativeText: "test b",
      description: "test b",
      metaTitle: "test b",
      metaDescription: "test b",
      uploadedUserEmail: "mamun@octopusx.io",
      category: "stock-photos",
      subCategory: "ai-generated",
      key: "1716438426411_1716365879792_Alfa Bank (1).png",
      createdAt: "2024-05-23T04:27:09.331Z",
      updatedAt: "2024-05-25T06:42:42.339Z",
      __v: 0,
      id: "664ec59db57d7c6ea1bfb4e1",
    },
    {
      tags: {
        tag1: "sdf",
      },
      _id: "664ebe962d45973cfc214d06",
      title: "download stock photos",
      url: "https://pub-343a57e418b344ff97eeb4945a3f3a39.r2.dev/stock-photos/1716436625397_tag4 show (1).png",
      type: "png",
      click: 39,
      download: 10,
      finalDownload: 10,
      alternativeText: "sdf",
      description: "sdffffff",
      metaTitle: "dsfsdfsdf",
      metaDescription: "sdsdsdsdsdsdsdsdsdsdsd",
      uploadedUserEmail: "shariar@octopusx.io",
      category: "stock-photos",
      subCategory: "sports",
      key: "1716436625397_tag4 show (1).png",
      createdAt: "2024-05-23T03:57:10.675Z",
      updatedAt: "2024-05-25T06:27:43.009Z",
      __v: 0,
      id: "664ebe962d45973cfc214d06",
    },
    {
      tags: {
        tag1: "agmshcfvwrf",
      },
      _id: "664dcb7dd5c16aaa9ffa7909",
      title: "agmshcfvwrf",
      url: "https://pub-555f8342aab14a45b760d81e9beb507b.r2.dev/1716374394376_sss (1).jpeg",
      type: "psd",
      previewUrl:
        "https://pub-555f8342aab14a45b760d81e9beb507b.r2.dev/1716374395725_Power Thumb.jpeg",
      previewKey: "1716374395725_Power Thumb.jpeg",
      click: 6,
      download: 1,
      finalDownload: 1,
      alternativeText: "agmshcfvwrf",
      description: "agmshcfvwrf",
      metaTitle: "agmshcfvwrf",
      metaDescription: "agmshcfvwrf",
      uploadedUserEmail: "saiful4b3@gmail.com",
      category: "design-template",
      subCategory: "template",
      key: "1716374394376_sss (1).jpeg",
      createdAt: "2024-05-22T10:39:57.099Z",
      updatedAt: "2024-05-25T04:58:14.378Z",
      __v: 0,
      id: "664dcb7dd5c16aaa9ffa7909",
    },
    {
      tags: {
        tag1: "agmshcfvwrf",
      },
      _id: "664dcb5ad5c16aaa9ffa7907",
      title: "agmshcfvwrf",
      url: "https://pub-555f8342aab14a45b760d81e9beb507b.r2.dev/1716374361138_final preview check.zip",
      type: "psd",
      previewUrl:
        "https://pub-555f8342aab14a45b760d81e9beb507b.r2.dev/1716374361860_Power Thumb.jpeg",
      previewKey: "1716374361860_Power Thumb.jpeg",
      click: 1,
      download: 0,
      finalDownload: 0,
      alternativeText: "agmshcfvwrf",
      description: "agmshcfvwrf",
      metaTitle: "agmshcfvwrf",
      metaDescription: "agmshcfvwrf",
      uploadedUserEmail: "saiful4b3@gmail.com",
      category: "design-template",
      subCategory: "template",
      key: "1716374361138_final preview check.zip",
      createdAt: "2024-05-22T10:39:22.733Z",
      updatedAt: "2024-05-23T03:35:08.854Z",
      __v: 0,
      id: "664dcb5ad5c16aaa9ffa7907",
    },
    {
      tags: {
        tag1: "agmshcfv",
      },
      _id: "664dcb05d5c16aaa9ffa78f1",
      title: "agmshcfv",
      url: "https://pub-555f8342aab14a45b760d81e9beb507b.r2.dev/1716374275668_google.zip",
      type: "psd",
      previewUrl:
        "https://pub-555f8342aab14a45b760d81e9beb507b.r2.dev/1716374276487_image less.png",
      previewKey: "1716374276487_image less.png",
      click: 3,
      download: 1,
      finalDownload: 1,
      alternativeText: "agmshcfv",
      description: "agmshcfv",
      metaTitle: "agmshcfv",
      metaDescription: "agmshcfv",
      uploadedUserEmail: "saiful4b3@gmail.com",
      category: "design-template",
      subCategory: "template",
      key: "1716374275668_google.zip",
      createdAt: "2024-05-22T10:37:57.893Z",
      updatedAt: "2024-05-25T04:58:16.070Z",
      __v: 0,
      id: "664dcb05d5c16aaa9ffa78f1",
    },
    {
      tags: {
        tag1: "s",
      },
      _id: "664dcae4a71a7d8774c8898d",
      title: "s",
      url: "https://pub-555f8342aab14a45b760d81e9beb507b.r2.dev/1716374242602_new file (2).zip",
      type: "psd",
      previewUrl:
        "https://pub-555f8342aab14a45b760d81e9beb507b.r2.dev/1716374243415_merge test____________.png",
      previewKey: "1716374243415_merge test____________.png",
      click: 3,
      download: 1,
      finalDownload: 1,
      alternativeText: "s",
      description: "s",
      metaTitle: "s",
      metaDescription: "s",
      uploadedUserEmail: "shariar@octopusx.io",
      category: "design-template",
      subCategory: "template",
      key: "1716374242602_new file (2).zip",
      createdAt: "2024-05-22T10:37:24.242Z",
      updatedAt: "2024-05-25T04:58:34.047Z",
      __v: 0,
      id: "664dcae4a71a7d8774c8898d",
    },
  ],
  total: 18,
};
